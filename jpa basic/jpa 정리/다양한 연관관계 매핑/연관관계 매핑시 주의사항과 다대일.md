# 연관관계 매핑시 주의사항 3가지

1. 다중성

- 다대일
- 일대다
- 일대일
- 다대다

- 테이블간의 연관관계에 맞는 다중성에 대해서 자바에서도 각각에 맞물리는 애너테이션으로 연관관계끼리 매핑하면된다.
  (`@ManyToOne`, `@OneToMany`..)

2. 단방향으로,,? 양방향으로,,?

- 기본적으로 단방향으로 도메인 객체 설계하고 개발하면서 반대편사이드에서 조회해야되는일이 많을땐, 그때서야 양방향 연관관계 매핑해도 늦지않다.

3. 연관관계주인

- 양방향 연관관계 매핑시 두 참조중 하나만 외래키랑 매핑해야함.
- 외래키와 매핑되는 객체의 연관관계 나타내는 참조변수를 연관관계주인이라함.
- 외래키있는 곳의 참조변수를연관관계로 설정함(다쪽임, why? 다쪽에 외래키를 설정하는건DB설계단계에서 당연한것.)
- 중요한건 **객체와 테이블간의 연관관계를 나타내는 차이**(객체는 참조변수로, 테이블은 외래키 하나로..) 때문에 연관관계 주인 개념이 등장함.

# 다대일

## 다대일 단방향

- 다대일 연관관계에 대해서 객체에선 단방향으로 참조변수 하나만 사용할 경우이다.
- `@ManyToOne`으로 연관관계 매핑하고 해당 참조변수와 외래키를 매핑하기위해 `@JoinColumn`으로 매핑할 외래키를 설정하면된다.
- 가장 많이 사용되는 연관관계가 다대일 단방향이다.
- 다대일의 반대는 당연하게도 일대다

## 다대일 양방향

- 다대일에서 다쪽(외래키가 있는곳)반대편에서 조회할일이 많으면 그때서야 양방향 연관관계를 설정해준다.
- 외래키가 있는 곳이 연관관계주인이다.
- `mappedBy`속성으로 주인을 설정해주면된다.
